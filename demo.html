<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Demo/Free Website</title>
<style>
  body {
    background: #222;
    color: #fff;
    font-family: Arial, sans-serif;
    padding: 2rem;
    text-align: center;
  }
  h1 { color: orange; }

  form {
    background: rgba(0,0,0,0.6);
    padding: 2rem;
    border-radius: 1rem;
    max-width: 400px;
    margin: 0 auto;
  }
  label, select, input, textarea {
    width: 100%;
    padding: 0.5rem;
    margin: 0.3rem 0;
    border-radius: 0.3rem;
    border: none;
  }
  select, input, textarea {
    background: #333;
    color: white;
  }
  button {
    padding: 0.7rem 1.5rem;
    background: orange;
    border: none;
    border-radius: 0.4rem;
    cursor: pointer;
    font-weight: bold;
    margin-top: 1rem;
  }

  .spinner {
    border: 4px solid #333;
    border-top: 4px solid orange;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 1rem auto;
    display: none;
  }
  @keyframes spin {
    0% {transform: rotate(0deg);}
    100% {transform: rotate(360deg);}
  }

  .success {
    background: green;
    padding: 1.5rem;
    border-radius: 1rem;
    margin-top: 1rem;
    opacity: 0;
    transition: opacity 1s ease;
  }
  .success.show { opacity: 1; }
  .success a { color: orange; text-decoration: underline; }
</style>
</head>
<body>

<h1>Demo/Free Website</h1>
<p>Request your free website in under 1 minute!</p>

<form id="demo-form">
  <label>Topic:</label>
  <input id="topic-input" placeholder="Your Website Topic..." />

  <label>For:</label>
  <select id="for-select">
    <option>Business</option>
    <option>Portfolio</option>
    <option>Education</option>
    <option>Entertainment</option>
    <option>Tech</option>
    <option>Non-Profit</option>
    <option>Blog</option>
    <option>Event</option>
    <option>Personal</option>
    <option>E-commerce</option>
    <option>Community</option>
    <option>Photography</option>
    <option>Music</option>
    <option>Restaurant</option>
    <option>Fitness</option>
  </select>

  <label>Theme:</label>
  <select id="theme-select">
    <option>Minimal</option>
    <option>Modern</option>
    <option>Professional</option>
    <option>Creative</option>
    <option>Dark</option>
    <option>Light</option>
    <option>Colorful</option>
    <option>Techy</option>
  </select>

  <label>Domain Name:</label>
  <input id="domain-input" placeholder="e.g. mybrand" />

  <label>Extra Info:</label>
  <textarea id="extra-info" placeholder="Any additional info"></textarea>

  <button id="submit-btn" type="button">Submit Request</button>
</form>

<div class="spinner" id="spinner"></div>
<div class="success" id="success-msg"></div>

<!-- Firebase scripts -->
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-firestore.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyB5vtpjJEGlyXAupMWkzbDXK0f2TSm2VWQ",
    authDomain: "remidernova-login.firebaseapp.com",
    projectId: "remidernova-login",
    storageBucket: "remidernova-login.firebasestorage.app",
    messagingSenderId: "304712721460",
    appId: "1:304712721460:web:4a0d8fd8c0518b49de1661"
  };
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const spinner = document.getElementById('spinner');
  const successMsg = document.getElementById('success-msg');

  function showLoadingSpinner() {
    spinner.style.display = 'block';
  }
  function hideLoadingSpinner() {
    spinner.style.display = 'none';
  }

  async function submitRequest() {
    const user = auth.currentUser;
    const username = user ? user.displayName || user.email : 'Guest';
    const topic = document.getElementById('topic-input').value.trim();
    const theme = document.getElementById('theme-select').value;
    const domain = document.getElementById('domain-input').value.trim();
    const extraInfo = document.getElementById('extra-info').value.trim();

    if (!topic || !theme || !domain) {
      alert('Please fill all required fields.');
      return;
    }

    showLoadingSpinner();

    try {
      await db.collection('demoRequests').add({
        uid: user ? user.uid : null,
        username: username,
        topic: topic,
        theme: theme,
        domain: domain,
        extra: extraInfo,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      });

      hideLoadingSpinner();
      successMsg.innerHTML = `âœ… Within 7 days ${username}, you will get your website ready. Thanks for visiting ðŸ˜Š<br>ðŸ’¡ Check out our <a href="premium-plans.html">Premium Plans</a> for faster and better results!`;
      successMsg.classList.add('show');
    } catch (e) {
      hideLoadingSpinner();
      alert('Error submitting request: ' + e.message);
    }
  }

  document.getElementById('submit-btn').onclick = submitRequest;
</script>
</body>
</html>
